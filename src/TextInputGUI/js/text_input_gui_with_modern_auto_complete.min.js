"use strict";function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}(function(){function a(a){return a instanceof HTMLInputElement&&"text"===a.type&&a.classList.contains("form-control")}function b(a){a._init_textinput||(a._init_textinput=!0,a.dataset.autocomplete_url&&($.widget("custom.iladvancedautocomplete",$.ui.autocomplete,{more:!1,_renderMenu:function i(a,b){var c=!0,d=!1,e=void 0;try{for(var f,g,h=b[Symbol.iterator]();!(c=(f=h.next()).done);c=!0)g=f.value,this._renderItemData(a,g)}catch(a){d=!0,e=a}finally{try{!c&&h.return&&h.return()}finally{if(d)throw e}}this.options.requestUrl.searchParams.delete("fetchall"),this.more&&(a.append("<li class='ui-menu-category ui-menu-more ui-state-disabled'><span>&raquo;"+il.textinput_more_txt+"</span></li>"),a.find("li").last().on("click",function(a){this.options.requestUrl.searchParams.append("fetchall","1"),this.close(a),this.search(null,a),a.preventDefault()}.bind(this)))}}),$(a).iladvancedautocomplete({requestUrl:new URL(a.dataset.autocomplete_url,location.href),source:async function e(a,b){var c=new URL(this.options.requestUrl);c.searchParams.append("term",a.term);var d=await(await fetch(c)).json();"undefined"==typeof d.items?(this.more=!1,b(d)):(this.more=d.hasMoreResults,b(d.items))},minLength:0})))}if(!il.int_textinput_observer){il.int_textinput_observer=!0;var c=new MutationObserver(function(c){var d=!0,e=!1,f=void 0;try{for(var g,h=c[Symbol.iterator]();!(d=(g=h.next()).done);d=!0){var i=g.value,j=!0,k=!1,l=void 0;try{for(var m,n,o=i.addedNodes[Symbol.iterator]();!(j=(m=o.next()).done);j=!0)if(n=m.value,n instanceof Element)for(var p,q=[n].concat(_toConsumableArray(n.querySelectorAll("*"))),r=0;r<q.length;r++)p=q[r],a(p)&&b(p)}catch(a){k=!0,l=a}finally{try{!j&&o.return&&o.return()}finally{if(k)throw l}}}}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}});c.observe(document.documentElement,{childList:!0,subtree:!0})}})();
