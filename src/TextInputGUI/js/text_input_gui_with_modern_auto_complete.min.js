(()=>{function a(a){return a instanceof HTMLInputElement&&"text"===a.type&&a.classList.contains("form-control")}function b(a){a._init_textinput||(a._init_textinput=!0,a.dataset.autocomplete_url&&($.widget("custom.iladvancedautocomplete",$.ui.autocomplete,{more:!1,_renderMenu:function(a,b){for(const c of b)this._renderItemData(a,c);this.options.requestUrl.searchParams.delete("fetchall"),this.more&&(a.append(`<li class='ui-menu-category ui-menu-more ui-state-disabled'><span>&raquo;${il.textinput_more_txt}</span></li>`),a.find("li").last().on("click",function(a){this.options.requestUrl.searchParams.append("fetchall","1"),this.close(a),this.search(null,a),a.preventDefault()}.bind(this)))}}),$(a).iladvancedautocomplete({requestUrl:new URL(a.dataset.autocomplete_url,location.href),source:async function(a,b){const c=new URL(this.options.requestUrl);c.searchParams.append("term",a.term);const d=await(await fetch(c)).json();"undefined"==typeof d.items?(this.more=!1,b(d)):(this.more=d.hasMoreResults,b(d.items))},minLength:0})))}if(!il.int_textinput_observer){il.int_textinput_observer=!0;const c=new MutationObserver(c=>{for(const d of c)for(const c of d.addedNodes)if(c instanceof Element)for(const d of[c,...c.querySelectorAll("*")])a(d)&&b(d)});c.observe(document.documentElement,{childList:!0,subtree:!0})}})();